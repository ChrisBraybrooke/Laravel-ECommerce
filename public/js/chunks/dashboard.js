webpackJsonp([28],{"8UG7":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("NYxO"),s=r("GzQy");function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},a=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),a.forEach(function(e){n(t,e,r[e])})}return t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}e.default={name:"Dashboard",components:{Errors:function(){return r.e(31).then(r.bind(null,"DqGP"))}},props:{},data:function(){return{globalSearch:"",loading:""}},computed:o({},Object(a.mapGetters)(["user","userErrors"])),watch:{search:function(t){this.handleSearchChange(t)}},mounted:function(){this.getUser()},methods:o({},Object(a.mapActions)(["getUser"]),{getAllOrders:function(t,e){s.a.get({path:"orders",params:{search:t}}).then(function(t){e(t.data)}).catch(function(){})},viewPathFormated:function(t){return"Estimate"===t.type?"estimates":"orders"},statusClass:function(t){return"Completed"===t.type?"bg-success":""}})}},JhIB:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[Object.keys(t.userErrors).length>0?r("errors",{attrs:{errors:t.userErrors}}):t._e(),t._v(" "),r("h1",{staticClass:"welcome_text"},[t._v("Welcome, "+t._s(t.user.name.first))]),t._v(" "),r("el-row",{staticClass:"welcome_row",attrs:{gutter:40}},[r("el-col",{attrs:{md:12}},[r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("Orders")]),t._v(" "),r("router-link",{attrs:{to:{path:"/orders/new"}}},[r("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary",plain:""}},[t._v("Create Order")])],1)],1)])],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-card",[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("Estimates")]),t._v(" "),r("router-link",{attrs:{to:{path:"/new-estimate"}}},[r("el-button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary",plain:""}},[t._v("Create Estimate")])],1)],1)])],1),t._v(" "),r("el-col",{attrs:{sm:24}},[r("el-card",[r("div",{staticClass:"clearfix",staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[r("span",[t._v("Search orders, pro-formas, and estimates")])]),t._v(" "),r("el-autocomplete",{staticStyle:{width:"100%"},attrs:{autofocus:!0,"fetch-suggestions":t.getAllOrders,"trigger-on-focus":!1,"value-key":"ref",placeholder:"Order number, customer name, company etc.",clearable:""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[r("router-link",{staticClass:"search_result",attrs:{to:{path:t.viewPathFormated(a)+"/"+a.id}}},[r("div",{staticClass:"flex-content"},[r("span",[r("strong",[t._v(t._s(a.ref))]),t._v(" - "+t._s(a.customer.full_name))]),t._v(" "),r("span",{staticClass:"status"},[t._v(t._s(a.status))])]),t._v(" "),r("div",{staticClass:"small"},[r("span",[t._v(t._s(a.customer.phone?a.customer.phone:"No Phone Number")+" / "+t._s(a.billing_address.company?a.billing_address.company:"No Company"))])])])]}}]),model:{value:t.globalSearch,callback:function(e){t.globalSearch=e},expression:"globalSearch"}})],1)],1)],1)],1)},staticRenderFns:[]}},m0Q3:function(t,e,r){var a=r("pg0J");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r("rjj0")("79cacf99",a,!0,{})},pg0J:function(t,e,r){(t.exports=r("FZ+f")(!1)).push([t.i,".el-col[data-v-18f19d66]{margin-bottom:2rem}.welcome_text[data-v-18f19d66]{text-align:center}.welcome_row[data-v-18f19d66]{margin-top:40px;margin-bottom:40px}.search_result[data-v-18f19d66]{color:initial;text-decoration:none}.search_result .flex-content[data-v-18f19d66]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-top:10px}.search_result span.status[data-v-18f19d66]{border:1px solid rgba(0,0,0,.1);border-radius:.5rem;padding:0 10px}.search_result div.small[data-v-18f19d66]{font-size:.7rem;opacity:.75;margin-bottom:10px}",""])},thZJ:function(t,e,r){var a=r("VU/8")(r("8UG7"),r("JhIB"),!1,function(t){r("m0Q3")},"data-v-18f19d66",null);t.exports=a.exports}});