webpackJsonp([7],{Fntp:function(e,t,i){(function(t){function i(e){return e.split("")}function s(e){return y.test(e)}function n(e){return s(e)?o(e):i(e)}function o(e){return e.match(P)||[]}function l(e,t,i){var s=-1,n=e.length;t<0&&(t=-t>n?0:n+t),i=i>n?n:i,i<0&&(i+=n),n=t>i?0:i-t>>>0,t>>>=0;for(var o=Array(n);++s<n;)o[s]=e[s+t];return o}function r(e){if("string"==typeof e)return e;if(u(e))return E?E.call(e):"";var t=e+"";return"0"==t&&1/e==-f?"-0":t}function a(e,t,i){var s=e.length;return i=void 0===i?s:i,!t&&i>=s?e:l(e,t,i)}function c(e){return!!e&&"object"==typeof e}function u(e){return"symbol"==typeof e||c(e)&&H.call(e)==p}function d(e){return null==e?"":r(e)}var f=1/0,p="[object Symbol]",m="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",g="\\ud83c[\\udffb-\\udfff]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",b="[\\ud800-\\udbff][\\udc00-\\udfff]",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",_="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",h,b].join("|")+")[\\ufe0e\\ufe0f]?"+v+")*",C="[\\ufe0e\\ufe0f]?"+v+_,k="(?:"+["[^\\ud800-\\udfff]"+m+"?",m,h,b,"[\\ud800-\\udfff]"].join("|")+")",P=RegExp(g+"(?="+g+")|"+k+C,"g"),y=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),F="object"==typeof t&&t&&t.Object===Object&&t,W="object"==typeof self&&self&&self.Object===Object&&self,S=F||W||Function("return this")(),x=Object.prototype,H=x.toString,U=S.Symbol,$=U?U.prototype:void 0,E=$?$.toString:void 0,N=function(e){return function(t){t=d(t);var i=s(t)?n(t):void 0,o=i?i[0]:t.charAt(0),l=i?a(i,1).join(""):t.slice(1);return o[e]()+l}}("toUpperCase");e.exports=N}).call(t,i("DuR2"))},Ouuk:function(e,t){var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[i("el-row",{attrs:{align:"middle",type:"flex"}},[i("el-col",{attrs:{span:12}},[i("h1",{staticClass:"page_title"},[e._v("Config")])])],1),e._v(" "),Object.keys(e.settingsErrors).length>0?i("errors",{attrs:{errors:e.settingsErrors}}):e._e(),e._v(" "),i("el-row",{attrs:{type:"flex"}},[i("el-col",{attrs:{md:24}},[i("el-form",{ref:"settingsForm",attrs:{"label-position":"top",model:e.settings,"label-width":"120px"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.submitForm("settingsForm")}}},[i("el-row",{attrs:{gutter:20}},[i("el-tabs",{model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[i("el-tab-pane",{attrs:{label:"General",name:"general"}},[i("el-col",{attrs:{lg:12,md:24}},[e.settings?i("el-form-item",{attrs:{label:"Site Url",prop:"url"}},[i("el-input",{model:{value:e.settings.url,callback:function(t){e.$set(e.settings,"url",t)},expression:"settings['url']"}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Contact Phone",prop:"Contact Phone"}},[i("el-input",{model:{value:e.settings["Contact Phone"],callback:function(t){e.$set(e.settings,"Contact Phone",t)},expression:"settings['Contact Phone']"}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Contact Email",prop:"Contact Email"}},[i("el-input",{model:{value:e.settings["Contact Email"],callback:function(t){e.$set(e.settings,"Contact Email",t)},expression:"settings['Contact Email']"}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Admin Notifications",prop:"Admin Notifications"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select",multiple:"",filterable:""},model:{value:e.settings["Admin Notifications"],callback:function(t){e.$set(e.settings,"Admin Notifications",t)},expression:"settings['Admin Notifications']"}},e._l(e.users,function(t){return t.name?i("el-option",{key:t.name.full,attrs:{label:t.name.full,value:t.id}}):e._e()}))],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Invoice Number Prefix",prop:"Invoice Number Prefix"}},[i("el-input",{model:{value:e.settings["Invoice Number Prefix"],callback:function(t){e.$set(e.settings,"Invoice Number Prefix",t)},expression:"settings['Invoice Number Prefix']"}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Currency",prop:"Currency"}},[i("el-input",{model:{value:e.settings.Currency,callback:function(t){e.$set(e.settings,"Currency",t)},expression:"settings['Currency']"}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Price Thousand Seperator",prop:"Price Thousand Seperator"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select"},model:{value:e.settings["Price Thousand Seperator"],callback:function(t){e.$set(e.settings,"Price Thousand Seperator",t)},expression:"settings['Price Thousand Seperator']"}},[i("el-option",{key:0,attrs:{label:",",value:","}}),e._v(" "),i("el-option",{key:1,attrs:{label:"",value:""}})],1)],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Price Decimal Seperator",prop:"Price Decimal Seperator"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select"},model:{value:e.settings["Price Decimal Seperator"],callback:function(t){e.$set(e.settings,"Price Decimal Seperator",t)},expression:"settings['Price Decimal Seperator']"}},[i("el-option",{key:0,attrs:{label:",",value:","}}),e._v(" "),i("el-option",{key:1,attrs:{label:".",value:"."}}),e._v(" "),i("el-option",{key:2,attrs:{label:":",value:":"}})],1)],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Price Numer of Decimals",prop:"Price Numer of Decimals"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select"},model:{value:e.settings["Price Numer of Decimals"],callback:function(t){e.$set(e.settings,"Price Numer of Decimals",t)},expression:"settings['Price Numer of Decimals']"}},[i("el-option",{key:0,attrs:{label:0,value:0}}),e._v(" "),i("el-option",{key:2,attrs:{label:2,value:2}})],1)],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Shipping Rate",prop:"Shipping Rate"}},[i("el-input",{model:{value:e.settings["Shipping Rate"],callback:function(t){e.$set(e.settings,"Shipping Rate",t)},expression:"settings['Shipping Rate']"}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Advert Collection",prop:"Advert Collection"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select"},model:{value:e.settings["Advert Collection"],callback:function(t){e.$set(e.settings,"Advert Collection",t)},expression:"settings['Advert Collection']"}},e._l(e.collections,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1):e._e()],1),e._v(" "),i("el-col",{attrs:{lg:12,md:24}},[e.settings?i("el-form-item",{attrs:{label:"Website Logo",prop:"Website Logo"}},[i("el-button",{attrs:{type:"info",plain:"",size:"mini"},on:{click:function(t){e.displayFilePicker("websiteLogoPicker")}}},[e._v("Select File "),i("i",{staticClass:"el-icon-document"})]),e._v(" "),i("file-picker-modal",{ref:"websiteLogoPicker",attrs:{"current-files":e.settings["Website Logo"]&&e.settings["Website Logo"][0]?[e.settings["Website Logo"][0]]:void 0,name:"Website Logo",selectable:1,"picker-id":"Website Logo","open-on-mount":!1},on:{filesChosen:e.handleFilesChosen,filesUnChosen:e.handleFilesUnChosen}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Website Logo White",prop:"Website Logo White"}},[i("el-button",{attrs:{type:"info",plain:"",size:"mini"},on:{click:function(t){e.displayFilePicker("websiteLogoWhitePicker")}}},[e._v("Select File "),i("i",{staticClass:"el-icon-document"})]),e._v(" "),i("file-picker-modal",{ref:"websiteLogoWhitePicker",attrs:{"current-files":e.settings["Website Logo White"]&&e.settings["Website Logo White"][0]?[e.settings["Website Logo White"][0]]:void 0,name:"Website Logo White",selectable:1,"picker-id":"Website Logo White","open-on-mount":!1},on:{filesChosen:e.handleFilesChosen,filesUnChosen:e.handleFilesUnChosen}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Website Watermark",prop:"Website Watermark"}},[i("el-button",{attrs:{type:"info",plain:"",size:"mini"},on:{click:function(t){e.displayFilePicker("websiteWatermarkPicker")}}},[e._v("Select File "),i("i",{staticClass:"el-icon-document"})]),e._v(" "),i("file-picker-modal",{ref:"websiteWatermarkPicker",attrs:{"current-files":e.settings["Website Watermark"]&&e.settings["Website Watermark"][0]?[e.settings["Website Watermark"][0]]:void 0,name:"Website Watermark",selectable:1,"picker-id":"Website Watermark","open-on-mount":!1},on:{filesChosen:e.handleFilesChosen,filesUnChosen:e.handleFilesUnChosen}})],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Brochure File",prop:"Brochure File"}},[i("file-picker-modal",{ref:"brochurePicker",attrs:{"current-files":e.settings["Brochure File"]&&e.settings["Brochure File"][0]?[e.settings["Brochure File"][0]]:void 0,name:"Brochure File",selectable:1,"picker-id":"Brochure File","show-btn":!0,"open-on-mount":!1},on:{filesChosen:e.handleFilesChosen,filesUnChosen:e.handleFilesUnChosen}})],1):e._e()],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"Home Page",name:"home"}},[i("el-col",{attrs:{lg:12,md:24}},[e.settings?i("el-form-item",{attrs:{label:"Home Header Collection",prop:"Home Header Collection"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select"},model:{value:e.settings["Home Header Collection"],callback:function(t){e.$set(e.settings,"Home Header Collection",t)},expression:"settings['Home Header Collection']"}},e._l(e.collections,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Home Panels Collection",prop:"Home Panels Collection"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select"},model:{value:e.settings["Home Panels Collection"],callback:function(t){e.$set(e.settings,"Home Panels Collection",t)},expression:"settings['Home Panels Collection']"}},e._l(e.collections,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Home Featured Product Collection",prop:"Home Featured Product Collection"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select"},model:{value:e.settings["Home Featured Product Collection"],callback:function(t){e.$set(e.settings,"Home Featured Product Collection",t)},expression:"settings['Home Featured Product Collection']"}},e._l(e.collections,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Home Featured Product Collection Types",prop:"Home Featured Product Collection Types"}},[i("el-select",{staticClass:"config_select",attrs:{placeholder:"Select",multiple:"",filterable:""},model:{value:e.settings["Home Featured Product Collection Types"],callback:function(t){e.$set(e.settings,"Home Featured Product Collection Types",t)},expression:"settings['Home Featured Product Collection Types']"}},e._l(e.featured_product_types,function(e){return i("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),e.settings?i("el-form-item",{attrs:{label:"Product Video Placeholder",prop:"Product Video Placeholder"}},[i("el-button",{attrs:{type:"info",plain:"",size:"mini"},on:{click:function(t){e.displayFilePicker("productVideoPicker")}}},[e._v("Select File "),i("i",{staticClass:"el-icon-document"})]),e._v(" "),i("file-picker-modal",{ref:"productVideoPicker",attrs:{"current-files":e.settings["Product Video Placeholder"]&&e.settings["Product Video Placeholder"][0]?[e.settings["Product Video Placeholder"][0]]:void 0,name:"Product Video Placeholder",selectable:1,"picker-id":"Product Video Placeholder","open-on-mount":!1},on:{filesChosen:e.handleFilesChosen,filesUnChosen:e.handleFilesUnChosen}})],1):e._e()],1)],1)],1)],1),e._v(" "),i("hr",{staticClass:"page_hr"}),e._v(" "),i("el-row",{attrs:{gutter:20}},[i("el-col",{attrs:{sm:24}},[i("el-form-item",[i("el-button",{attrs:{plain:"",type:"success",loading:e.loading},on:{click:function(t){e.submitForm("settingsForm")}}},[e._v("Update")])],1)],1)],1)],1)],1)],1)],1)},s=[];e.exports={render:i,staticRenderFns:s}},U2Qn:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("GzQy"),n=i("Fntp");t.default={name:"Config",components:{Errors:function(){return i.e(11).then(i.bind(null,"DqGP"))},FilePickerModal:function(){return i.e(12).then(i.bind(null,"kSKK"))}},props:[],data:function(){return{loading:!1,settings:null,settingsErrors:{},settingsForm:{},collections:{},featured_product_types:{},users:{},currentTab:"general"}},computed:{},watch:{},mounted:function(){this.getSettings(),this.getCollections(),this.getUsers()},methods:{p:function(e){var t=e.split(".");return function(){for(var e=this,i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e}},ucFirst:function(e){return n(e)},shouldShowInput:function(e){return"Admin Notifications"!==e&&"Home Header Collection"!==e&&"Home Panels Collection"!==e},getSettings:function(){this.loading=!0,this.settingsErrors={},s.a.get({path:"settings"}).then(function(e){this.loading=!1,this.settings=e.data,this.getFeaturedProductCollectionTypes()}.bind(this)).catch(function(e){this.loading=!1,this.settingsErrors=e}.bind(this))},getCollections:function(){s.a.get({path:"collections"}).then(function(e){this.collections=e.data}.bind(this)).catch(function(e){this.settingsErrors=e}.bind(this))},getFeaturedProductCollectionTypes:function(){this.settings["Home Featured Product Collection"]?s.a.get({path:"collections/"+this.settings["Home Featured Product Collection"]+"/types"}).then(function(e){this.featured_product_types=e.data}.bind(this)).catch(function(e){this.settingsErrors=e}.bind(this)):this.featured_product_types={}},getUsers:function(){s.a.get({path:"users",params:{withRole:"admin"}}).then(function(e){this.users=e.data}.bind(this)).catch(function(e){this.settingsErrors=e}.bind(this))},submitForm:function(e){this.loading=!0,this.settingsErrors={},s.a.persist("post",{path:"settings",object:{settings:this.settings}}).then(function(e){this.loading=!1,this.settings=e.data}.bind(this)).catch(function(e){this.loading=!1,this.settingsErrors=e}.bind(this))},displayFilePicker:function(e){this.$refs[e]&&this.$refs[e].openModal()},handleFilesChosen:function(e){this.$set(this.settings,e.id,e.files)},handleFilesUnChosen:function(e){this.$set(this.settings,e.id,e.files)}}}},"UNX+":function(e,t,i){var s=i("vu97");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);i("rjj0")("614dbed8",s,!0)},vu97:function(e,t,i){t=e.exports=i("FZ+f")(void 0),t.push([e.i,".config_select[data-v-5aae844a]{width:100%}",""])},xmj4:function(e,t,i){function s(e){i("UNX+")}var n=i("VU/8"),o=i("U2Qn"),l=i("Ouuk"),r=s,a=n(o,l,!1,r,"data-v-5aae844a",null);e.exports=a.exports}});