webpackJsonp([0],{"+VPL":function(t,e){var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{name:"orders"}}},[t._v("Orders")]),t._v(" "),r("el-breadcrumb-item",[t._v("New Order")]),t._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"orders.step1"}}},[t._v("Step 1")]),t._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"orders.step2"}}},[t._v("Step 2")]),t._v(" "),r("el-breadcrumb-item",[t._v("Step 3")])],1),t._v(" "),r("el-row",{attrs:{align:"middle",type:"flex"}},[r("el-col",{attrs:{span:12}},[r("h1",{staticClass:"page_title"},[t._v("New Order "),t.order.id?r("span",[t._v(" - #"+t._s(t.order.id))]):t._e()])])],1),t._v(" "),Object.keys(t.orderErrors).length>0?r("errors",{attrs:{errors:t.orderErrors}}):t._e(),t._v(" "),r("el-form",{ref:"orderForm",attrs:{"label-position":"top",model:t.order},nativeOn:{submit:function(t){t.preventDefault()}}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v("Payment Information")])])],1),t._v(" "),r("card-payment-form",{ref:"paymentForm",attrs:{form:t.order,loading:t.loading,"on-token-creation":t.onTokenCreation}}),t._v(" "),r("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:24}}},[r("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){t.processSubmit("orderForm")}}},[t._v("Complete Payment")])],1)],1)],1)],1)},o=[];t.exports={render:r,staticRenderFns:o}},"/FJ2":function(t,e,r){e=t.exports=r("FZ+f")(void 0),e.push([t.i,"",""])},"1iqI":function(t,e,r){var o=r("/FJ2");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r("rjj0")("63894130",o,!0)},"1wGH":function(t,e,r){e=t.exports=r("FZ+f")(void 0),e.push([t.i,"",""])},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"55SM":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},n=r("GzQy"),a=function(t){return t&&t.__esModule?t:{default:t}}(n),s=r("NYxO");e.default={name:"orderStepOne",components:{Errors:function(){return r.e(20).then(r.bind(null,"DqGP"))},AddressForm:function(){return r.e(36).then(r.bind(null,"G1R4"))}},props:{},data:function(){return{loading:!1,orderErrors:{},formRules:{"customer.first_name":[{required:!0,message:"The first name is required",trigger:"blur"}],"customer.last_name":[{required:!0,message:"The last name is required",trigger:"blur"}],"customer.phone":[{required:!0,message:"The phone number is required",trigger:"blur"}],"customer.email":[{required:!0,message:"The email is required",trigger:"blur"},{type:"email",message:"Please enter a valid email address"}]}}},computed:o({},(0,s.mapGetters)(["order"])),watch:{order:{handler:function(t){this.$store.commit("SET_ORDER",t)},deep:!0}},mounted:function(){},methods:o({},(0,s.mapActions)(["resetOrder"]),{processSubmit:function(t,e){var r=this;this.$refs[t].validate(function(t){if(!t)return!1;r.loading=!0,r.order.id?a.default.persist("put",{path:"orders/"+r.order.id,object:r.order}).then(function(t){this.loading=!1,e&&this.$router.push({name:"orders.step2"})}.bind(r)).catch(function(t){this.loading=!1,this.orderErrors=t}.bind(r)):a.default.persist("post",{path:"orders",object:r.order}).then(function(t){this.loading=!1,this.$set(this.order,"id",t.data.id),this.$router.push({name:"orders.step2"})}.bind(r)).catch(function(t){this.loading=!1,this.orderErrors=t}.bind(r))})}})}},"8r4o":function(t,e){function r(t,e,r,o){for(var n=-1,a=$(j((e-t)/(r||1)),0),s=Array(a);a--;)s[o?a:++n]=t,t+=r;return s}function o(t,e){return!!(e=null==e?_:e)&&("number"==typeof t||P.test(t))&&t>-1&&t%1==0&&t<e}function n(t,e,r){if(!d(r))return!1;var n=typeof e;return!!("number"==n?s(r)&&o(e,r.length):"string"==n&&e in r)&&a(r[e],t)}function a(t,e){return t===e||t!==t&&e!==e}function s(t){return null!=t&&l(t.length)&&!i(t)}function i(t){var e=d(t)?O.call(t):"";return e==b||e==g}function l(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=_}function d(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==typeof t}function c(t){return"symbol"==typeof t||u(t)&&O.call(t)==y}function p(t){if(!t)return 0===t?t:0;if((t=m(t))===f||t===-f){return(t<0?-1:1)*h}return t===t?t:0}function m(t){if("number"==typeof t)return t;if(c(t))return v;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(w,"");var r=C.test(t);return r||F.test(t)?k(t.slice(2),r?2:8):x.test(t)?v:+t}var f=1/0,_=9007199254740991,h=1.7976931348623157e308,v=NaN,b="[object Function]",g="[object GeneratorFunction]",y="[object Symbol]",w=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,F=/^0o[0-7]+$/i,P=/^(?:0|[1-9]\d*)$/,k=parseInt,S=Object.prototype,O=S.toString,j=Math.ceil,$=Math.max,A=function(t){return function(e,o,a){return a&&"number"!=typeof a&&n(e,o,a)&&(o=a=void 0),e=p(e),void 0===o?(o=e,e=0):o=p(o),a=void 0===a?e<o?1:-1:p(a),r(e,o,a,t)}}();t.exports=A},FubQ:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},n=r("GzQy"),a=function(t){return t&&t.__esModule?t:{default:t}}(n),s=r("NYxO"),i=r("etT0"),l=r("P/uL"),d=r("R3sX"),u=r("dzSQ"),c=r("8r4o");e.default={name:"NewOrderStepTwo",components:{Errors:function(){return r.e(20).then(r.bind(null,"DqGP"))}},props:{},data:function(){return{loading:!1,showProductModal:!1,addProductForm:{edit:!1,product:{quantity:1}},productAddErrors:{},operators:{"+":function(t,e){return parseInt(t)+parseInt(e)},"-":function(t,e){return parseInt(t)-parseInt(e)}},products:[],productProps:{value:"id",label:"name",children:"variants"}}},computed:o({},(0,s.mapGetters)(["order","shopData","orderTotals"]),{quantityRange:function(){return c(1,251)},shippingRange:function(){return c(0,250,10)}}),watch:{order:{handler:function(t){this.$store.commit("SET_ORDER",t)},deep:!0}},mounted:function(){this.order.id||this.$router.push({name:"orders.step1"})},methods:o({},(0,s.mapActions)(["deleteOrderItem","editOrderItem"]),{formattedPrice:function(t){var e=parseInt(t.price),r=e,o=0;l(t.options,function(t){t.price_mutator&&t.price_value&&(r=this.operators[t.price_mutator](r,t.price_value),o=this.operators[t.price_mutator](o,t.price_value))}.bind(this));var n=t.quantity?t.quantity:1,a=r*n;return o*=n,{"Base Price":e,"Sub-Total":e*n,Extras:o,Total:a}},closeAndClearModal:function(t){var e=this;this.$confirm("Are you sure to close the product selector?").then(function(r){e.productAddErrors={},e.$refs.addProductForm.resetFields(),e.addProductForm={edit:!1,product:{quantity:1}},t?t():e.showProductModal=!1}).catch(function(t){})},handleProductChange:function(t){var e=this.findProductById(u(t));this.addProductForm.product=e,this.$set(this.addProductForm.product,"options",{})},requestProductVariants:d(function(t){var e=this.getIndexFromId(t);this.loading=!0,a.default.get({path:"products/"+t+"/variants",params:{include:["blank_variants","type","options","price","effects_price"],with:["orderForm.sections.fields"]}}).then(function(t){this.loading=!1,this.products[e].variants=t.data}.bind(this)).catch(function(t){this.loading=!1}.bind(this))},1e3),handleAddProductBtnClick:function(){this.showProductModal=!0,this.loading=!0,a.default.get({path:"products",params:{no_variants:!0,include:["blank_variants","type","options","price","effects_price"],with:["orderForm.sections.fields"]}}).then(function(t){this.loading=!1,this.products=t.data}.bind(this)).catch(function(t){this.loading=!1}.bind(this))},getIndexFromId:function(t){if(t){var e=i(this.products,function(e){return e.id===parseInt(t)});return-1===e?null:e}return null},findProductById:function(t){var e=null;return t&&l(this.products,function(r){r.id===parseInt(t)?e=r:l(r.variants,function(r){r.id===parseInt(t)&&(e=r)})}),e},addProductToTable:function(){this.$store.commit("ADD_PRODUCT_TO_ORDER",this.addProductForm.product),this.showProductModal=!1},editProductOnTable:function(){this.editOrderItem(this.addProductForm.product),this.showProductModal=!1},deleteRow:function(t,e){this.deleteOrderItem(e)},editRow:function(t,e){this.addProductForm.edit=!0,this.addProductForm.product=e,this.showProductModal=!0},optionLabel:function(t){return t.price_mutator&&t.price_value?t.name+" ("+t.price_mutator+" Â£"+t.price_value+")":t.name},itemRowNameFormatter:function(t,e,r){var o=this.$createElement,n=o("p",[t.variant.name?t.variant.name+" / ":"",o("strong",[t.name])]);if(t.options){var a=[];return l(t.options,function(t,e){var r=t.name?t.name:t;a.push(o("li",[e,": ",r]))}),o("div",[n," ",o("ul",{class:"order_item_options"},[a])])}return o("div",[n])},processSubmit:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loading=!0,a.default.persist("put",{path:"orders/"+this.order.id,object:this.order}).then(function(e){this.loading=!1,t&&this.$router.push({name:"orders.step3"})}.bind(this)).catch(function(t){this.loading=!1}.bind(this))}})}},J71i:function(t,e,r){var o=r("NmxS");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r("rjj0")("53bfbbbe",o,!0)},K2Yr:function(t,e,r){function o(t){r("1iqI")}var n=r("VU/8"),a=r("55SM"),s=r("QYUN"),i=o,l=n(a,s,!1,i,null,null);t.exports=l.exports},Kskl:function(t,e,r){function o(t){r("U86w")}var n=r("VU/8"),a=r("Vhmr"),s=r("+VPL"),i=o,l=n(a,s,!1,i,null,null);t.exports=l.exports},MIBT:function(t,e,r){e=t.exports=r("FZ+f")(void 0),e.push([t.i,".form_option_section{border-bottom:2px dashed #e4e7ed;padding:10px 0;margin-bottom:10px}ul.order_item_options{list-style:circle;font-size:13px;padding:0 25px}",""])},NKYa:function(t,e,r){var o=r("1wGH");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r("rjj0")("41daae1d",o,!0)},NdxR:function(t,e){var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{name:"orders"}}},[t._v("Orders")]),t._v(" "),t.order.invoice?r("el-breadcrumb-item",[t._v(t._s(t.order.invoice.number))]):t._e()],1),t._v(" "),r("el-row",{attrs:{align:"middle"}},[r("el-col",{attrs:{sm:24,lg:12}},[t.order.invoice?r("h1",{staticClass:"page_title"},[t._v("Order: "+t._s(t.order.invoice.number)+" "),t.order.status?r("el-tag",{attrs:{type:"info",size:"large"}},[t._v(t._s(t.order.status))]):t._e()],1):t._e()]),t._v(" "),r("el-col",{attrs:{sm:24,lg:12}},[r("el-button",{staticStyle:{float:"right","margin-bottom":"20px"},attrs:{type:"success",plain:""},on:{click:t.preparePrint}},[t._v("Print Invoice")]),t._v(" "),!t.loading&&t.printUrl?r("iframe",{staticStyle:{position:"absolute",top:"-9999px",left:"-9999px",border:"0px",overfow:"none","z-index":"-1"},attrs:{id:"printLinkIframe",name:"printLinkIframe",src:t.printUrl},on:{load:t.printInvoice}}):t._e()],1)],1),t._v(" "),Object.keys(t.orderErrors).length>0?r("errors",{attrs:{errors:t.orderErrors}}):t._e(),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[t.orderStatuses?r("el-form",{attrs:{model:t.order}},[r("el-select",{attrs:{placeholder:"Select"},model:{value:t.order.status,callback:function(e){t.$set(t.order,"status",e)},expression:"order.status"}},t._l(t.orderStatuses,function(t,e){return r("el-option",{key:e,attrs:{label:t,value:e}})})),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"small",loading:t.loading},on:{click:function(e){t.updateOrder()}}},[t._v("Save")])],1)],1):t._e()],1)],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{staticStyle:{"margin-bottom":"50px"},attrs:{md:24,lg:12}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("Shipping Address "),t.order.use_billing_for_shipping?r("el-tag",{attrs:{size:"mini"}},[t._v("Using Billing")]):t._e()],1),t._v(" "),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.edit_shipping=!t.edit_shipping}}},[t._v(t._s(t.edit_shipping?"Cancel":"Edit"))])],1),t._v(" "),t._l(t.order.shipping_address,function(e,o){return t.edit_shipping?t._e():r("div",{key:e,staticClass:"text item"},[r("strong",[t._v(t._s(o)+":")]),t._v(" "+t._s(e)+"\n              ")])}),t._v(" "),t.edit_shipping?r("el-form",{ref:"editShippingForm",attrs:{model:t.order,"label-width":"120px",size:"mini"}},[r("el-form-item",{attrs:{label:"Use Billing Address",prop:"use_billing_for_shipping"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.order.use_billing_for_shipping,callback:function(e){t.$set(t.order,"use_billing_for_shipping",e)},expression:"order.use_billing_for_shipping"}})],1),t._v(" "),t._l(t.order.shipping_address,function(e,o){return r("el-form-item",{key:e,attrs:{label:o,prop:t.order[o]}},[r("el-input",{attrs:{disabled:t.order.use_billing_for_shipping,autofocus:!0},model:{value:t.order.shipping_address[o],callback:function(e){t.$set(t.order.shipping_address,o,e)},expression:"order.shipping_address[key]"}})],1)}),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.updateOrder()}}},[t._v("Save")])],1)],2):t._e()],2)],1),t._v(" "),r("el-col",{staticStyle:{"margin-bottom":"50px"},attrs:{md:24,lg:12}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("Billing Address")]),t._v(" "),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){t.edit_billing=!t.edit_billing}}},[t._v(t._s(t.edit_billing?"Cancel":"Edit"))])],1),t._v(" "),t._l(t.order.billing_address,function(e,o){return t.edit_billing?t._e():r("div",{key:e,staticClass:"text item"},[r("strong",[t._v(t._s(o)+":")]),t._v(" "+t._s(e)+"\n              ")])}),t._v(" "),t.edit_billing?r("el-form",{ref:"editShippingForm",attrs:{model:t.order.billing_address,"label-width":"120px",size:"mini"}},[t._l(t.order.billing_address,function(e,o){return r("el-form-item",{key:e,attrs:{label:o,prop:o}},[r("el-input",{attrs:{autofocus:!0},model:{value:t.order.billing_address[o],callback:function(e){t.$set(t.order.billing_address,o,e)},expression:"order.billing_address[key]"}})],1)}),t._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.updateOrder()}}},[t._v("Save")])],1)],2):t._e()],2)],1)],1),t._v(" "),r("el-row",{staticStyle:{"margin-bottom":"50px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[t._v("Customer Information")]),t._v(" "),r("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[t._v("Edit")])],1),t._v(" "),t.order.customer?r("div",{staticClass:"text item"},[r("strong",[t._v("Name:")]),t._v(" "+t._s(t.order.customer.full_name)+"\n              ")]):t._e(),t._v(" "),t.order.customer?r("div",{staticClass:"text item"},[r("strong",[t._v("Email:")]),t._v(" "+t._s(t.order.customer.email)+"\n              ")]):t._e(),t._v(" "),t.order.customer?r("div",{staticClass:"text item"},[r("strong",[t._v("Phone:")]),t._v(" "+t._s(t.order.customer.phone)+"\n              ")]):t._e()])],1)],1),t._v(" "),t.order.items?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-card",{staticClass:"box-card"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.order.items}},[r("el-table-column",{attrs:{prop:"name",label:"Product"}}),t._v(" "),r("el-table-column",{attrs:{prop:"price",formatter:function(e,r,o){return t.order.cart.currency+e.price},label:"Price"}}),t._v(" "),r("el-table-column",{attrs:{prop:"qty",label:"Quantity"}}),t._v(" "),r("el-table-column",{attrs:{prop:"subtotal",formatter:function(e,r,o){return t.order.cart.currency+e.subtotal},label:"Total"}})],1),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderTotals}},[r("el-table-column"),t._v(" "),r("el-table-column"),t._v(" "),r("el-table-column",{attrs:{prop:"total",label:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"value",label:""}})],1)],1)],1)],1):t._e(),t._v(" "),r("el-popover",{ref:"deleteOrderPop",attrs:{placement:"top",width:"160"}},[r("p",[t._v("Delete Order?")]),t._v(" "),r("div",{staticStyle:{"text-align":"right",margin:"0"}},[r("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(e){t.$refs.deleteOrderPop.doClose()}}},[t._v("cancel")]),t._v(" "),r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){t.deleteOrder()}}},[t._v("confirm")])],1)]),t._v(" "),r("el-button",{directives:[{name:"popover",rawName:"v-popover:deleteOrderPop",arg:"deleteOrderPop"}],staticStyle:{"margin-top":"40px"},attrs:{size:"small",plain:"",type:"danger"}},[t._v("Delete")])],1)},o=[];t.exports={render:r,staticRenderFns:o}},NmxS:function(t,e,r){e=t.exports=r("FZ+f")(void 0),e.push([t.i,"",""])},PASv:function(t,e,r){var o=r("MIBT");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r("rjj0")("40a6a64c",o,!0)},QYUN:function(t,e){var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{name:"orders"}}},[t._v("Orders")]),t._v(" "),r("el-breadcrumb-item",[t._v("New Order")]),t._v(" "),r("el-breadcrumb-item",[t._v("Step 1")])],1),t._v(" "),r("el-row",{attrs:{align:"middle",type:"flex"}},[r("el-col",{attrs:{span:12}},[r("h1",{staticClass:"page_title"},[t._v("New Order "),t.order.first_name&&t.order.last_name?r("span",[t._v(" - "+t._s(t.order.first_name+" "+t.order.last_name))]):t._e()]),t._v(" "),r("el-button",{attrs:{type:"danger",plain:"",size:"mini"},on:{click:t.resetOrder}},[t._v("Reset Order")])],1)],1),t._v(" "),r("hr",{staticClass:"page_hr"}),t._v(" "),Object.keys(t.orderErrors).length>0?r("errors",{attrs:{errors:t.orderErrors}}):t._e(),t._v(" "),r("el-form",{ref:"orderForm",attrs:{rules:t.formRules,"label-position":"top",model:t.order},nativeOn:{submit:function(t){t.preventDefault()}}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v("Customer Information")])])],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:16,offset:4}}},[r("el-form-item",{attrs:{label:"Customer Company",size:"small",prop:"customer.company"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.order.customer.company,callback:function(e){t.$set(t.order.customer,"company",e)},expression:"order.customer.company"}})],1)],1)],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:8,offset:4}}},[r("el-form-item",{attrs:{label:"Customer First Name",size:"small",prop:"customer.first_name"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.order.customer.first_name,callback:function(e){t.$set(t.order.customer,"first_name",e)},expression:"order.customer.first_name"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"Customer Last Name",size:"small",prop:"customer.last_name"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.order.customer.last_name,callback:function(e){t.$set(t.order.customer,"last_name",e)},expression:"order.customer.last_name"}})],1)],1)],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:8,offset:4}}},[r("el-form-item",{attrs:{label:"Customer Phone",size:"small",prop:"customer.phone"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.order.customer.phone,callback:function(e){t.$set(t.order.customer,"phone",e)},expression:"order.customer.phone"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:8}},[r("el-form-item",{attrs:{label:"Customer Email",size:"small",prop:"customer.email"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.order.customer.email,callback:function(e){t.$set(t.order.customer,"email",e)},expression:"order.customer.email"}})],1)],1)],1),t._v(" "),r("hr"),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v("Billing Adress")])])],1),t._v(" "),r("address-form",{attrs:{form:t.order.billing_address,prop:"billing_address"}}),t._v(" "),r("hr"),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v("Shipping Adress")])])],1),t._v(" "),r("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:20,offset:4}}},[r("el-checkbox",{model:{value:t.order.use_billing_for_shipping,callback:function(e){t.$set(t.order,"use_billing_for_shipping",e)},expression:"order.use_billing_for_shipping"}},[t._v("Same As Billing Address")])],1)],1),t._v(" "),t.order.use_billing_for_shipping?t._e():r("address-form",{attrs:{form:t.order.shipping_address}}),t._v(" "),r("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:24}}},[t.order.id?r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.processSubmit("orderForm",!1)}}},[t._v("Save Changes")]):t._e(),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.processSubmit("orderForm",!0)}}},[t._v("Choose Products")])],1)],1)],1)],1)},o=[];t.exports={render:r,staticRenderFns:o}},U86w:function(t,e,r){var o=r("q1Ls");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);r("rjj0")("3a7c034a",o,!0)},Vhmr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},n=r("GzQy"),a=function(t){return t&&t.__esModule?t:{default:t}}(n),s=r("NYxO");e.default={name:"orderStepThree",components:{CardPaymentForm:function(){return r.e(35).then(r.bind(null,"sAw/"))},Errors:function(){return r.e(20).then(r.bind(null,"DqGP"))}},props:{},data:function(){return{loading:!1,orderErrors:{}}},computed:o({},(0,s.mapGetters)(["order"])),watch:{order:{handler:function(t){this.$store.commit("SET_ORDER",t)},deep:!0}},mounted:function(){this.order.id||this.$router.push({name:"orders.step1"})},methods:{processSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.$refs.paymentForm.createToken()})},onTokenCreation:function(t,e,r){!t&&this.order.id&&a.default.persist("post",{path:"orders/"+this.order.id+"/payment",object:this.order}).then(function(t){this.loading=!1,this.$router.push({name:"orders.view",params:{orderId:this.order.id}})}.bind(this)).catch(function(t){this.loading=!1}.bind(this))}}}},drDl:function(t,e,r){function o(t){r("PASv")}var n=r("VU/8"),a=r("FubQ"),s=r("lGIi"),i=o,l=n(a,s,!1,i,null,null);t.exports=l.exports},dzSQ:function(t,e){function r(t){var e=t?t.length:0;return e?t[e-1]:void 0}t.exports=r},etT0:function(t,e,r){(function(t,r){function o(t,e){for(var r=-1,o=t?t.length:0;++r<o;)if(e(t[r],r,t))return!0;return!1}function n(t,e,r,o){for(var n=t.length,a=r+(o?1:-1);o?a--:++a<n;)if(e(t[a],a,t))return a;return-1}function a(t){return function(e){return null==e?void 0:e[t]}}function s(t,e){for(var r=-1,o=Array(t);++r<t;)o[r]=e(r);return o}function i(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function d(t){var e=-1,r=Array(t.size);return t.forEach(function(t,o){r[++e]=[o,t]}),r}function u(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function c(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function p(){this.__data__=Ke?Ke(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function f(t){var e=this.__data__;if(Ke){var r=e[t];return r===qt?void 0:r}return Re.call(e,t)?e[t]:void 0}function _(t){var e=this.__data__;return Ke?void 0!==e[t]:Re.call(e,t)}function h(t,e){return this.__data__[t]=Ke&&void 0===e?qt:e,this}function v(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function b(){this.__data__=[]}function g(t){var e=this.__data__,r=q(e,t);return!(r<0)&&(r==e.length-1?e.pop():Be.call(e,r,1),!0)}function y(t){var e=this.__data__,r=q(e,t);return r<0?void 0:e[r][1]}function w(t){return q(this.__data__,t)>-1}function x(t,e){var r=this.__data__,o=q(r,t);return o<0?r.push([t,e]):r[o][1]=e,this}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function F(){this.__data__={hash:new c,map:new(Ye||v),string:new c}}function P(t){return nt(this,t).delete(t)}function k(t){return nt(this,t).get(t)}function S(t){return nt(this,t).has(t)}function O(t,e){return nt(this,t).set(t,e),this}function j(t){var e=-1,r=t?t.length:0;for(this.__data__=new C;++e<r;)this.add(t[e])}function $(t){return this.__data__.set(t,qt),this}function A(t){return this.__data__.has(t)}function E(t){this.__data__=new v(t)}function T(){this.__data__=new v}function I(t){return this.__data__.delete(t)}function N(t){return this.__data__.get(t)}function z(t){return this.__data__.has(t)}function R(t,e){var r=this.__data__;if(r instanceof v){var o=r.__data__;if(!Ye||o.length<Rt-1)return o.push([t,e]),this;r=this.__data__=new C(o)}return r.set(t,e),this}function D(t,e){var r=lr(t)||yt(t)?s(t.length,String):[],o=r.length,n=!!o;for(var a in t)!e&&!Re.call(t,a)||n&&("length"==a||lt(a,o))||r.push(a);return r}function q(t,e){for(var r=t.length;r--;)if(gt(t[r][0],e))return r;return-1}function M(t,e){e=dt(e,t)?[e]:tt(e);for(var r=0,o=e.length;null!=t&&r<o;)t=t[_t(e[r++])];return r&&r==o?t:void 0}function L(t){return De.call(t)}function U(t,e){return null!=t&&e in Object(t)}function B(t,e,r,o,n){return t===e||(null==t||null==e||!Pt(t)&&!kt(e)?t!==t&&e!==e:G(t,e,B,r,o,n))}function G(t,e,r,o,n,a){var s=lr(t),i=lr(e),d=Yt,u=Yt;s||(d=sr(t),d=d==Vt?ee:d),i||(u=sr(e),u=u==Vt?ee:u);var c=d==ee&&!l(t),p=u==ee&&!l(e),m=d==u;if(m&&!c)return a||(a=new E),s||dr(t)?et(t,e,r,o,n,a):rt(t,e,d,r,o,n,a);if(!(n&Lt)){var f=c&&Re.call(t,"__wrapped__"),_=p&&Re.call(e,"__wrapped__");if(f||_){var h=f?t.value():t,v=_?e.value():e;return a||(a=new E),r(h,v,o,n,a)}}return!!m&&(a||(a=new E),ot(t,e,r,o,n,a))}function Q(t,e,r,o){var n=r.length,a=n,s=!o;if(null==t)return!a;for(t=Object(t);n--;){var i=r[n];if(s&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++n<a;){i=r[n];var l=i[0],d=t[l],u=i[1];if(s&&i[2]){if(void 0===d&&!(l in t))return!1}else{var c=new E;if(o)var p=o(d,u,l,t,e,c);if(!(void 0===p?B(u,d,o,Mt|Lt,c):p))return!1}}return!0}function V(t){return!(!Pt(t)||ct(t))&&(Ct(t)||l(t)?qe:ve).test(ht(t))}function Y(t){return kt(t)&&Ft(t.length)&&!!ye[De.call(t)]}function H(t){return"function"==typeof t?t:null==t?Nt:"object"==typeof t?lr(t)?K(t[0],t[1]):J(t):zt(t)}function Z(t){if(!pt(t))return Ge(t);var e=[];for(var r in Object(t))Re.call(t,r)&&"constructor"!=r&&e.push(r);return e}function J(t){var e=at(t);return 1==e.length&&e[0][2]?ft(e[0][0],e[0][1]):function(r){return r===t||Q(r,t,e)}}function K(t,e){return dt(t)&&mt(e)?ft(_t(t),e):function(r){var o=Et(r,t);return void 0===o&&o===e?Tt(r,t):B(e,o,void 0,Mt|Lt)}}function W(t){return function(e){return M(e,t)}}function X(t){if("string"==typeof t)return t;if(St(t))return ar?ar.call(t):"";var e=t+"";return"0"==e&&1/t==-Ut?"-0":e}function tt(t){return lr(t)?t:ir(t)}function et(t,e,r,n,a,s){var i=a&Lt,l=t.length,d=e.length;if(l!=d&&!(i&&d>l))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var c=-1,p=!0,m=a&Mt?new j:void 0;for(s.set(t,e),s.set(e,t);++c<l;){var f=t[c],_=e[c];if(n)var h=i?n(_,f,c,e,t,s):n(f,_,c,t,e,s);if(void 0!==h){if(h)continue;p=!1;break}if(m){if(!o(e,function(t,e){if(!m.has(e)&&(f===t||r(f,t,n,a,s)))return m.add(e)})){p=!1;break}}else if(f!==_&&!r(f,_,n,a,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function rt(t,e,r,o,n,a,s){switch(r){case ie:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case se:return!(t.byteLength!=e.byteLength||!o(new Le(t),new Le(e)));case Ht:case Zt:case te:return gt(+t,+e);case Jt:return t.name==e.name&&t.message==e.message;case re:case ne:return t==e+"";case Xt:var i=d;case oe:var l=a&Lt;if(i||(i=u),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;a|=Mt,s.set(t,e);var p=et(i(t),i(e),o,n,a,s);return s.delete(t),p;case ae:if(nr)return nr.call(t)==nr.call(e)}return!1}function ot(t,e,r,o,n,a){var s=n&Lt,i=It(t),l=i.length;if(l!=It(e).length&&!s)return!1;for(var d=l;d--;){var u=i[d];if(!(s?u in e:Re.call(e,u)))return!1}var c=a.get(t);if(c&&a.get(e))return c==e;var p=!0;a.set(t,e),a.set(e,t);for(var m=s;++d<l;){u=i[d];var f=t[u],_=e[u];if(o)var h=s?o(_,f,u,e,t,a):o(f,_,u,t,e,a);if(!(void 0===h?f===_||r(f,_,o,n,a):h)){p=!1;break}m||(m="constructor"==u)}if(p&&!m){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(p=!1)}return a.delete(t),a.delete(e),p}function nt(t,e){var r=t.__data__;return ut(e)?r["string"==typeof e?"string":"hash"]:r.map}function at(t){for(var e=It(t),r=e.length;r--;){var o=e[r],n=t[o];e[r]=[o,n,mt(n)]}return e}function st(t,e){var r=i(t,e);return V(r)?r:void 0}function it(t,e,r){e=dt(e,t)?[e]:tt(e);for(var o,n=-1,a=e.length;++n<a;){var s=_t(e[n]);if(!(o=null!=t&&r(t,s)))break;t=t[s]}if(o)return o;var a=t?t.length:0;return!!a&&Ft(a)&&lt(s,a)&&(lr(t)||yt(t))}function lt(t,e){return!!(e=null==e?Bt:e)&&("number"==typeof t||ge.test(t))&&t>-1&&t%1==0&&t<e}function dt(t,e){if(lr(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!St(t))||(de.test(t)||!le.test(t)||null!=e&&t in Object(e))}function ut(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ct(t){return!!Ne&&Ne in t}function pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Te)}function mt(t){return t===t&&!Pt(t)}function ft(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function _t(t){if("string"==typeof t||St(t))return t;var e=t+"";return"0"==e&&1/t==-Ut?"-0":e}function ht(t){if(null!=t){try{return ze.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vt(t,e,r){var o=t?t.length:0;if(!o)return-1;var a=null==r?0:jt(r);return a<0&&(a=Qe(o+a,0)),n(t,H(e,3),a)}function bt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(Dt);var r=function(){var o=arguments,n=e?e.apply(this,o):o[0],a=r.cache;if(a.has(n))return a.get(n);var s=t.apply(this,o);return r.cache=a.set(n,s),s};return r.cache=new(bt.Cache||C),r}function gt(t,e){return t===e||t!==t&&e!==e}function yt(t){return xt(t)&&Re.call(t,"callee")&&(!Ue.call(t,"callee")||De.call(t)==Vt)}function wt(t){return null!=t&&Ft(t.length)&&!Ct(t)}function xt(t){return kt(t)&&wt(t)}function Ct(t){var e=Pt(t)?De.call(t):"";return e==Kt||e==Wt}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Bt}function Pt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function kt(t){return!!t&&"object"==typeof t}function St(t){return"symbol"==typeof t||kt(t)&&De.call(t)==ae}function Ot(t){if(!t)return 0===t?t:0;if((t=$t(t))===Ut||t===-Ut){return(t<0?-1:1)*Gt}return t===t?t:0}function jt(t){var e=Ot(t),r=e%1;return e===e?r?e-r:e:0}function $t(t){if("number"==typeof t)return t;if(St(t))return Qt;if(Pt(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Pt(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(me,"");var r=he.test(t);return r||be.test(t)?we(t.slice(2),r?2:8):_e.test(t)?Qt:+t}function At(t){return null==t?"":X(t)}function Et(t,e,r){var o=null==t?void 0:M(t,e);return void 0===o?r:o}function Tt(t,e){return null!=t&&it(t,e,U)}function It(t){return wt(t)?D(t):Z(t)}function Nt(t){return t}function zt(t){return dt(t)?a(_t(t)):W(t)}var Rt=200,Dt="Expected a function",qt="__lodash_hash_undefined__",Mt=1,Lt=2,Ut=1/0,Bt=9007199254740991,Gt=1.7976931348623157e308,Qt=NaN,Vt="[object Arguments]",Yt="[object Array]",Ht="[object Boolean]",Zt="[object Date]",Jt="[object Error]",Kt="[object Function]",Wt="[object GeneratorFunction]",Xt="[object Map]",te="[object Number]",ee="[object Object]",re="[object RegExp]",oe="[object Set]",ne="[object String]",ae="[object Symbol]",se="[object ArrayBuffer]",ie="[object DataView]",le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/,ue=/^\./,ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pe=/[\\^$.*+?()[\]{}|]/g,me=/^\s+|\s+$/g,fe=/\\(\\)?/g,_e=/^[-+]0x[0-9a-f]+$/i,he=/^0b[01]+$/i,ve=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,ye={};ye["[object Float32Array]"]=ye["[object Float64Array]"]=ye["[object Int8Array]"]=ye["[object Int16Array]"]=ye["[object Int32Array]"]=ye["[object Uint8Array]"]=ye["[object Uint8ClampedArray]"]=ye["[object Uint16Array]"]=ye["[object Uint32Array]"]=!0,ye[Vt]=ye[Yt]=ye[se]=ye[Ht]=ye[ie]=ye[Zt]=ye[Jt]=ye[Kt]=ye[Xt]=ye[te]=ye[ee]=ye[re]=ye[oe]=ye[ne]=ye["[object WeakMap]"]=!1;var we=parseInt,xe="object"==typeof t&&t&&t.Object===Object&&t,Ce="object"==typeof self&&self&&self.Object===Object&&self,Fe=xe||Ce||Function("return this")(),Pe="object"==typeof e&&e&&!e.nodeType&&e,ke=Pe&&"object"==typeof r&&r&&!r.nodeType&&r,Se=ke&&ke.exports===Pe,Oe=Se&&xe.process,je=function(){try{return Oe&&Oe.binding("util")}catch(t){}}(),$e=je&&je.isTypedArray,Ae=Array.prototype,Ee=Function.prototype,Te=Object.prototype,Ie=Fe["__core-js_shared__"],Ne=function(){var t=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ze=Ee.toString,Re=Te.hasOwnProperty,De=Te.toString,qe=RegExp("^"+ze.call(Re).replace(pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=Fe.Symbol,Le=Fe.Uint8Array,Ue=Te.propertyIsEnumerable,Be=Ae.splice,Ge=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),Qe=Math.max,Ve=st(Fe,"DataView"),Ye=st(Fe,"Map"),He=st(Fe,"Promise"),Ze=st(Fe,"Set"),Je=st(Fe,"WeakMap"),Ke=st(Object,"create"),We=ht(Ve),Xe=ht(Ye),tr=ht(He),er=ht(Ze),rr=ht(Je),or=Me?Me.prototype:void 0,nr=or?or.valueOf:void 0,ar=or?or.toString:void 0;c.prototype.clear=p,c.prototype.delete=m,c.prototype.get=f,c.prototype.has=_,c.prototype.set=h,v.prototype.clear=b,v.prototype.delete=g,v.prototype.get=y,v.prototype.has=w,v.prototype.set=x,C.prototype.clear=F,C.prototype.delete=P,C.prototype.get=k,C.prototype.has=S,C.prototype.set=O,j.prototype.add=j.prototype.push=$,j.prototype.has=A,E.prototype.clear=T,E.prototype.delete=I,E.prototype.get=N,E.prototype.has=z,E.prototype.set=R;var sr=L;(Ve&&sr(new Ve(new ArrayBuffer(1)))!=ie||Ye&&sr(new Ye)!=Xt||He&&"[object Promise]"!=sr(He.resolve())||Ze&&sr(new Ze)!=oe||Je&&"[object WeakMap]"!=sr(new Je))&&(sr=function(t){var e=De.call(t),r=e==ee?t.constructor:void 0,o=r?ht(r):void 0;if(o)switch(o){case We:return ie;case Xe:return Xt;case tr:return"[object Promise]";case er:return oe;case rr:return"[object WeakMap]"}return e});var ir=bt(function(t){t=At(t);var e=[];return ue.test(t)&&e.push(""),t.replace(ce,function(t,r,o,n){e.push(o?n.replace(fe,"$1"):r||t)}),e});bt.Cache=C;var lr=Array.isArray,dr=$e?function(t){return function(e){return t(e)}}($e):Y;r.exports=vt}).call(e,r("DuR2"),r("3IRH")(t))},hkaY:function(t,e,r){function o(t){r("NKYa")}var n=r("VU/8"),a=r("sLQm"),s=r("NdxR"),i=o,l=n(a,s,!1,i,null,null);t.exports=l.exports},lGIi:function(t,e){var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[r("el-breadcrumb",{staticClass:"breadcrumbs",attrs:{"separator-class":"el-icon-arrow-right"}},[r("el-breadcrumb-item",{attrs:{to:{name:"orders"}}},[t._v("Orders")]),t._v(" "),r("el-breadcrumb-item",[t._v("New Order")]),t._v(" "),r("el-breadcrumb-item",{attrs:{to:{name:"orders.step1"}}},[t._v("Step 1")]),t._v(" "),r("el-breadcrumb-item",[t._v("Step 2")])],1),t._v(" "),r("el-row",{attrs:{align:"middle",type:"flex"}},[r("el-col",{attrs:{span:12}},[r("h1",{staticClass:"page_title"},[t._v("New Order "),t.order.id?r("span",[t._v(" - #"+t._s(t.order.id))]):t._e()])])],1),t._v(" "),t.order.items?r("el-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"},attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.handleAddProductBtnClick}},[t._v("Add Product(s)")])],1),t._v(" "),r("el-form",{attrs:{model:t.order}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"Shipping Rate"}},[r("el-select",{attrs:{size:"mini"},model:{value:t.order.shipping_rate,callback:function(e){t.$set(t.order,"shipping_rate",e)},expression:"order.shipping_rate"}},t._l(t.shippingRange,function(t){return r("el-option",{key:t,attrs:{value:t}})}))],1)],1)],1)],1):t._e(),t._v(" "),t.order.items?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.order.items}},[r("el-table-column",{attrs:{prop:"name",label:"Product",formatter:t.itemRowNameFormatter}}),t._v(" "),r("el-table-column",{attrs:{prop:"price",formatter:function(e,r,o){return t.shopData.currency+(t.formattedPrice(e)?t.formattedPrice(e)["Base Price"]:0)},label:"Price"}}),t._v(" "),r("el-table-column",{attrs:{prop:"qty",formatter:function(t,e,r){return t.quantity?t.quantity:1},label:"Quantity"}}),t._v(" "),r("el-table-column",{attrs:{prop:"subtotal",formatter:function(e,r,o){return t.shopData.currency+(t.formattedPrice(e)?t.formattedPrice(e)["Sub-Total"]:0)},label:"Sub-Total"}}),t._v(" "),r("el-table-column",{attrs:{prop:"total",formatter:function(e,r,o){return t.shopData.currency+(t.formattedPrice(e)?t.formattedPrice(e).Extras:0)},label:"Extras"}}),t._v(" "),r("el-table-column",{attrs:{prop:"total",formatter:function(e,r,o){return t.shopData.currency+(t.formattedPrice(e)?t.formattedPrice(e).Total:0)},label:"Total"}}),t._v(" "),r("el-table-column",{attrs:{label:"Actions"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{staticClass:"action_btn",attrs:{size:"mini",plain:"",type:"primary"},on:{click:function(r){t.editRow(e.$index,e.row)}}},[t._v("Edit\n                        ")]),t._v(" "),r("el-button",{staticClass:"action_btn delete_btn",attrs:{size:"mini",type:"danger"},on:{click:function(r){t.deleteRow(e.$index,e.row)}}},[t._v("Delete\n                        ")])]}}])})],1),t._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderTotals}},[r("el-table-column"),t._v(" "),r("el-table-column"),t._v(" "),r("el-table-column"),t._v(" "),r("el-table-column"),t._v(" "),r("el-table-column"),t._v(" "),r("el-table-column",{attrs:{prop:"total",label:""}}),t._v(" "),r("el-table-column",{attrs:{prop:"value",label:"",formatter:function(e,r,o){return t.shopData.currency+o}}})],1)],1)],1):t._e(),t._v(" "),r("el-dialog",{attrs:{title:(t.addProductForm.edit?"Edit":"Add")+" Product","close-on-click-modal":!1,"before-close":t.closeAndClearModal,visible:t.showProductModal,width:"70%"},on:{"update:visible":function(e){t.showProductModal=e}}},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[Object.keys(t.productAddErrors).length>0?r("errors",{attrs:{errors:t.productAddErrors}}):t._e(),t._v(" "),r("el-form",{ref:"addProductForm",attrs:{"label-position":"top",model:t.addProductForm},nativeOn:{submit:function(t){t.preventDefault()}}},[t.addProductForm.edit?t._e():r("div",{staticClass:"form_option_section"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v("Product Type")])])],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:16,offset:4}}},[r("el-form-item",{attrs:{label:"Choose Product",size:"small",prop:"product"}},[r("el-cascader",{staticStyle:{width:"100%"},attrs:{options:t.products,props:t.productProps},on:{change:t.handleProductChange,"active-item-change":t.requestProductVariants}})],1)],1)],1)],1),t._v(" "),t.addProductForm.product.options&&t.addProductForm.product.order_form?[t._l(t.addProductForm.product.order_form.sections.data,function(e){return t.addProductForm.product.order_form.sections?[e.fields?[e.fields.data.length>0?r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v(t._s(e.name))])])],1):t._e(),t._v(" "),e.fields.data.length>0?r("div",{staticClass:"form_option_section"},t._l(e.fields.data,function(e){return r("el-row",{key:e.id,attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:16,offset:4}}},[r("el-form-item",{attrs:{label:e.name,size:"small",prop:"product.options["+e.name+"]"}},["text"===e.type?r("el-input",{model:{value:t.addProductForm.product.options[e.name],callback:function(r){t.$set(t.addProductForm.product.options,e.name,r)},expression:"addProductForm.product.options[field.name]"}}):t._e(),t._v(" "),"select"===e.type?r("el-select",{model:{value:t.addProductForm.product.options[e.name],callback:function(r){t.$set(t.addProductForm.product.options,e.name,r)},expression:"addProductForm.product.options[field.name]"}},t._l(e.options,function(e){return r("el-option",{key:e.id,attrs:{value:e,label:t.optionLabel(e)}})})):t._e()],1)],1)],1)})):t._e()]:t._e()]:t._e()})]:t._e(),t._v(" "),t.addProductForm.product.id?r("div",{staticClass:"form_option_section"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v("Quantity")])])],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:16,offset:4}}},[r("el-form-item",{attrs:{label:"Quantity",size:"small",prop:"product.quantity"}},[r("el-select",{model:{value:t.addProductForm.product.quantity,callback:function(e){t.$set(t.addProductForm.product,"quantity",e)},expression:"addProductForm.product.quantity"}},t._l(t.quantityRange,function(t){return r("el-option",{key:t,attrs:{value:t}})}))],1)],1)],1)],1):t._e(),t._v(" "),t.addProductForm.product.id?r("div",{staticClass:"form_option_section"},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("h5",[t._v("Price")])])],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:16,offset:4}}},t._l(t.formattedPrice(t.addProductForm.product),function(e,o){return r("p",[r("strong",[t._v(t._s(o)+":")]),t._v(" "+t._s(t.shopData.currency)+t._s(e))])}))],1)],1):t._e()],2),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.closeAndClearModal(null)}}},[t._v(t._s(t.addProductForm.edit?"Discard Changes":"Cancel"))]),t._v(" "),t.addProductForm.edit?t._e():r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addProductToTable()}}},[t._v("Add Product")]),t._v(" "),t.addProductForm.edit?r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editProductOnTable()}}},[t._v("Save Changes")]):t._e()],1)],1)]),t._v(" "),r("el-row",{staticStyle:{"margin-top":"40px"},attrs:{gutter:20}},[r("el-col",{attrs:{md:{span:24}}},[r("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.processSubmit(!1)}}},[t._v("Save Changes")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(e){t.processSubmit()}}},[t._v("Process Payment")])],1)],1)],1)},o=[];t.exports={render:r,staticRenderFns:o}},q1Ls:function(t,e,r){e=t.exports=r("FZ+f")(void 0),e.push([t.i,"",""])},sLQm:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},n=r("GzQy"),a=function(t){return t&&t.__esModule?t:{default:t}}(n),s=r("NYxO"),i=r("P/uL");e.default={name:"ViewOrder",components:{Errors:function(){return r.e(20).then(r.bind(null,"DqGP"))}},props:{orderId:{type:String,required:!0}},data:function(){return{orderErrors:{},loading:!1,order:{},shopData:{},edit_billing:!1,edit_shipping:!1,shippingForm:{},invoiceLoaded:!1,orderStatuses:{},printUrl:null}},computed:{orderAmount:function(){return this.shopData.currency+this.order.amount/100},orderTotals:function(){var t=[];return i(this.order.cart.totals,function(e,r){t.push({total:r,value:this.order.cart.currency+e})}.bind(this)),t}},watch:{},mounted:function(){this.getOrder()},methods:o({},(0,s.mapActions)(["setShopData"]),{getOrder:function(){this.orderErrors={},this.loading=!0,a.default.get({path:"orders/"+this.orderId,params:{}}).then(function(t){this.loading=!1,this.order=t.data,this.orderStatuses=t.statuses,this.shopData=t.shop_data,this.setShopData(t.shop_data)}.bind(this)).catch(function(t){this.loading=!1,this.orderErrors=t}.bind(this))},updateOrder:function(){this.orderErrors={},this.loading=!0,a.default.persist("put",{path:"orders/"+this.orderId,object:this.order}).then(function(t){this.loading=!1,this.order=t.data,this.shopData=t.shop_data,this.orderStatuses=t.statuses,this.setShopData(t.shop_data),this.edit_billing=!1,this.edit_shipping=!1}.bind(this)).catch(function(t){this.loading=!1,this.orderErrors=t}.bind(this))},deleteOrder:function(){this.loading=!0,a.default.delete({path:"orders/"+this.order.id}).then(function(){this.loading=!1,this.$message({message:"Successfully deleted order",type:"success",showClose:!0}),this.$router.push({name:"orders"})}.bind(this)).catch(function(){this.loading=!1}.bind(this))},preparePrint:function(){this.printUrl=this.shopData.url+"/ecommerce-templates/invoice?reports="+this.order.id},printInvoice:function(){navigator.userAgent.match(/opera/i)||navigator.userAgent.match(/trident/i)||navigator.userAgent.match(/msie/i)&&window.addEventListener?window.open(this.printUrl,"_blank"):(frames.printLinkIframe.focus(),frames.printLinkIframe.print()),this.printUrl=null}})}},vZP4:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r("GzQy"),n=function(t){return t&&t.__esModule?t:{default:t}}(o),a=r("P/uL");e.default={name:"Orders",components:{DataTable:function(){return r.e(25).then(r.bind(null,"bnM4"))}},props:[],data:function(){var t=this.$createElement;return{loading:!1,products:{},invoiceLoaded:!1,printUrl:null,ordersCreateForm:{},createFormRules:{customer_first_name:[{required:!0,message:"The first name is required",trigger:"blur"},{min:3,max:200,message:"The first name length should be more than 3 characters",trigger:"blur"}],customer_last_name:[{required:!0,message:"The last name is required",trigger:"blur"},{min:3,max:200,message:"The last name length should be more than 3 characters",trigger:"blur"}],customer_email:[{required:!0,message:"The email is required",trigger:"blur"},{min:3,max:200,message:"The email length should be more than 3 characters",trigger:"blur"}]},tableOptions:{border:!0,stripe:!0,showSearch:!0,showHeader:!0,showNewBtn:!0,showRefreshBtn:!0,showHeadHr:!0,showTitle:!0,viewText:"View",deleteText:"",collumns:[{prop:"id",sortable:!0,label:"ID",align:"left",resizable:!0},{prop:"name",sortable:!0,label:"Customer Name",formatter:function(t,e,r){return t.customer.full_name},align:"left",resizable:!0},{prop:"amount",sortable:!0,label:"Total",formatter:function(t,e,r){return t.cart.currency?t.cart.currency+t.cart.totals.Total:"-"},align:"left",resizable:!0},{prop:"created_at.human",sortable:!0,label:"Order Placed",align:"left",resizable:!0},{prop:"status",sortable:!0,label:"Status",formatter:function(e,r,o){var n="Completed"==e.status?"success":"Processing"==e.status?"danger":"info";return t("el-tag",{attrs:{type:n,size:"medium"}},[e.status])},align:"left",resizable:!0}],bulkOptions:[{value:"completed",label:"Mark Complete"},{value:"print",label:"Print Invoice(s)",action:function(t,e,r){var o=[];a(r,function(t,e){var r=0===e?"?":"&";o.push(r+"reports["+e+"]="+t.id)}.bind(this));var n=e.url+"/ecommerce-templates/invoice"+o.join("");this.printUrl=n}.bind(this)}]}}},computed:{},watch:{},mounted:function(){},methods:{print:function(){frames.printLinkIframe.focus(),frames.printLinkIframe.print(),this.printUrl=null},handleCreateNew:function(t){this.loading=!0,n.default.get({path:"products",params:{limit:"1000"}}).then(function(t){this.products=t.data,this.loading=!1}.bind(this)).catch(function(t){this.loading=!1}.bind(this))}}}},vbMC:function(t,e){var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[!t.loading&&t.printUrl?r("iframe",{staticStyle:{position:"absolute",top:"-9999px",left:"-9999px",border:"0px",overfow:"none","z-index":"-1"},attrs:{id:"printLinkIframe",name:"printLinkIframe",src:t.printUrl},on:{load:t.print}}):t._e(),t._v(" "),r("data-table",{attrs:{"type-name":"order","full-modal":!0,"table-options":t.tableOptions,"create-form":t.ordersCreateForm,"create-form-rules":t.createFormRules},on:{createNew:t.handleCreateNew},scopedSlots:t._u([{key:"createForm",fn:function(e){return[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Customer First Name",prop:"first_name"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.first_name,callback:function(e){t.$set(t.ordersCreateForm,"first_name",e)},expression:"ordersCreateForm.first_name"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Customer Last Name",prop:"last_name"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.last_name,callback:function(e){t.$set(t.ordersCreateForm,"last_name",e)},expression:"ordersCreateForm.last_name"}})],1)],1)],1),t._v(" "),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Customer Email",prop:"email"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.email,callback:function(e){t.$set(t.ordersCreateForm,"email",e)},expression:"ordersCreateForm.email"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Customer Phone",prop:"phone"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.phone,callback:function(e){t.$set(t.ordersCreateForm,"phone",e)},expression:"ordersCreateForm.phone"}})],1)],1)],1),t._v(" "),r("el-row",{staticStyle:{"margin-top":"50px"},attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Billing Address Line 1",prop:"billing_address_line1"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.billing_address_line1,callback:function(e){t.$set(t.ordersCreateForm,"billing_address_line1",e)},expression:"ordersCreateForm.billing_address_line1"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Billing Address Line 2",prop:"billing_address_line2"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.billing_address_line2,callback:function(e){t.$set(t.ordersCreateForm,"billing_address_line2",e)},expression:"ordersCreateForm.billing_address_line2"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Billing Address Town",prop:"billing_address_town"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.billing_address_town,callback:function(e){t.$set(t.ordersCreateForm,"billing_address_town",e)},expression:"ordersCreateForm.billing_address_town"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Billing Address County",prop:"billing_address_county"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.billing_address_county,callback:function(e){t.$set(t.ordersCreateForm,"billing_address_county",e)},expression:"ordersCreateForm.billing_address_county"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Billing Address Postcode",prop:"billing_address_postcode"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.billing_address_postcode,callback:function(e){t.$set(t.ordersCreateForm,"billing_address_postcode",e)},expression:"ordersCreateForm.billing_address_postcode"}})],1)],1),t._v(" "),r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Billing Address Country",prop:"billing_address_country"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.billing_address_country,callback:function(e){t.$set(t.ordersCreateForm,"billing_address_country",e)},expression:"ordersCreateForm.billing_address_country"}})],1)],1)],1),t._v(" "),r("el-row",{staticStyle:{"margin-top":"50px"},attrs:{gutter:20}},[r("el-col",{attrs:{md:24}},[r("el-form-item",{attrs:{label:"Shipping Address Same As Billing",prop:"same_shipping_address"}},[r("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.ordersCreateForm.same_shipping_address,callback:function(e){t.$set(t.ordersCreateForm,"same_shipping_address",e)},expression:"ordersCreateForm.same_shipping_address"}})],1)],1),t._v(" "),t.ordersCreateForm.same_shipping_address?t._e():r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Shipping Address Line 1",prop:"shipping_address_line1"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.shipping_address_line1,callback:function(e){t.$set(t.ordersCreateForm,"shipping_address_line1",e)},expression:"ordersCreateForm.shipping_address_line1"}})],1)],1),t._v(" "),t.ordersCreateForm.same_shipping_address?t._e():r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Shipping Address Line 2",prop:"shipping_address_line2"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.shipping_address_line2,callback:function(e){t.$set(t.ordersCreateForm,"shipping_address_line2",e)},expression:"ordersCreateForm.shipping_address_line2"}})],1)],1),t._v(" "),t.ordersCreateForm.same_shipping_address?t._e():r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Shipping Address Town",prop:"shipping_address_town"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.shipping_address_town,callback:function(e){t.$set(t.ordersCreateForm,"shipping_address_town",e)},expression:"ordersCreateForm.shipping_address_town"}})],1)],1),t._v(" "),t.ordersCreateForm.same_shipping_address?t._e():r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Shipping Address County",prop:"shipping_address_county"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.shipping_address_county,callback:function(e){t.$set(t.ordersCreateForm,"shipping_address_county",e)},expression:"ordersCreateForm.shipping_address_county"}})],1)],1),t._v(" "),t.ordersCreateForm.same_shipping_address?t._e():r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Shipping Address Postcode",prop:"shipping_address_postcode"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.shipping_address_postcode,callback:function(e){t.$set(t.ordersCreateForm,"shipping_address_postcode",e)},expression:"ordersCreateForm.shipping_address_postcode"}})],1)],1),t._v(" "),t.ordersCreateForm.same_shipping_address?t._e():r("el-col",{attrs:{md:12}},[r("el-form-item",{attrs:{label:"Shipping Address Country",prop:"shipping_address_country"}},[r("el-input",{attrs:{autofocus:!0,"auto-complete":"off"},model:{value:t.ordersCreateForm.shipping_address_country,callback:function(e){t.$set(t.ordersCreateForm,"shipping_address_country",e)},expression:"ordersCreateForm.shipping_address_country"}})],1)],1)],1),t._v(" "),r("el-row",{staticStyle:{"margin-top":"50px"},attrs:{gutter:20}},[r("el-col",{attrs:{md:12}},[t.products?r("el-form-item",{attrs:{label:"Products",prop:"products"}},[r("el-select",{staticClass:"collection_type_select",staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"","allow-create":"",placeholder:"Select"},model:{value:t.ordersCreateForm.products,callback:function(e){t.$set(t.ordersCreateForm,"products",e)},expression:"ordersCreateForm.products"}},t._l(t.products,function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1):t._e()],1)],1)]}}])},[r("template",{attrs:{slot:"createButton"},slot:"createButton"},[r("router-link",{attrs:{to:{name:"orders.step1"}}},[r("el-button",{staticClass:"create_btn",attrs:{type:"primary",plain:""}},[t._v("New Order")])],1)],1)],2)],1)},o=[];t.exports={render:r,staticRenderFns:o}},"x/hs":function(t,e,r){function o(t){r("J71i")}var n=r("VU/8"),a=r("vZP4"),s=r("vbMC"),i=o,l=n(a,s,!1,i,null,null);t.exports=l.exports}});